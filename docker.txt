#17.2 Báº¯t Ä‘áº§u vá»›i Express Framework
B1: Node.js Vesion 14.7:  npm install --save body-parser@1.19.0 dotenv@8.2.0 ejs@3.1.5 express@4.17.1

B2: npm install --save-dev @babel/core@7.12.10 @babel/preset-env@7.12.10 @babel/node@7.12.10 nodemon@2.0.7

B3: Cháº¡y project === cÃ¢u lá»‡nh nÃ y:  npm start


#18 Ãp Dá»¥ng MÃ´ HÃ¬nh MVC vÃ o Dá»± Ãn Node.JS(COI LAI)
Váº­y MVC lÃ  gÃ¬ ? MVC lÃ  viáº¿t táº¯t cá»§a Model - View - Controller, lÃ  má»™t trong nhá»¯ng mÃ´ hÃ¬nh phÃ¡t triá»ƒn dá»± Ã¡n website phá»• biáº¿n nháº¥t hiá»‡n nay.

#19 CÃ i Ä‘áº·t cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL vá»›i XAMPP - Cáº¥u hÃ¬nh cÆ¡ sá»Ÿ dá»¯ liá»‡u database cho Node.JS pháº§n 1
#20 Táº¡o tables, thÃªm dá»¯ liá»‡u database vá»›i Sequelize CLI - Cáº¥u hÃ¬nh database cho Node.JS pháº§n 2

Sequelize lÃ  má»™t package há»— trá»£ sá»­ dá»¥ng ORM vá»›i mÃ´i trÆ°á»ng Node.JS . Trong video nÃ y, chÃºng ta sáº½ cÃ¹ng nhau tÃ¬m hiá»ƒu cÃ¡ch táº¡o tables (migration), thÃªm dá»¯ liá»‡u (seeder) báº±ng Sequelize-CLI vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL.

 1. CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n: sequlize-cli, sequelize vÃ  mysql2
npm install --save-dev sequelize-cli@6.2.0
npm install --save mysql2@2.2.5
npm install --save sequelize@6.6.2

ðŸ‘‰ 2. ThÃªm file .sequelizerc táº¡i thÆ° má»¥c root
Ná»™i dung file .sequelizerc
const path = require('path');
module.exports = {
  'config': path.resolve('./src/config', 'config.json'),
  'migrations-path': path.resolve('./src', 'migrations'),
  'models-path': path.resolve('./src', 'models'),
  'seeders-path': path.resolve('./src', 'seeders')
}

ðŸ‘‰ Táº¡i thÆ° má»¥c root, sá»­ dá»¥ng cÃ¢u lá»‡nh: node_modules/.bin/sequelize init

LÆ°u Ã½: khi cháº¡y cÃ i láº¡i sequelize thÃ¬ pháº£i chjay láº¡i tá»« má»¥c 3, 4, 5, 6
ðŸ‘‰ 3. Táº¡o model: 
npx sequelize-cli model:generate --name User --attributes firstName:string,lastName:string,email:string

ðŸ‘‰ 4: Táº¡o migrations DB:
npx sequelize-cli db:migrate

ðŸ‘‰5. Táº¡o Seeder:
npx sequelize-cli seed:generate --name demo-user

Now we should edit this file to insert demo user to User table.


Creating the first Seed"""
module.exports = {
  up: (queryInterface, Sequelize) => {
    return queryInterface.bulkInsert('User', [
      {
        firstName: 'John',
        lastName: 'Doe',
        email: 'example@example.com',
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ]);
  },
  down: (queryInterface, Sequelize) => {
    return queryInterface.bulkDelete('User', null, {});
  },
};



ðŸ‘‰6.Running Seeds""""
npx sequelize-cli db:seed:all

KHá»žI CHáº Y DOCKER Tá»ª CONTAINER Má»šI -> CONTAINER CÃ“ TRONG IMAGE -> IMAGE CÃ“ TRONG DOCKER HUB 
--TÃŠN MYSQL -Máº¬T KHáº¨U-123456 -D -P PORT:3306 MYSQL: image

lenh docker:  docker run --name mysql -e MYSQL_ROOT_PASSWORD=123456 -d -p 3306:3306 mysql

Táº¡o vÃ  cháº¡y cÃ¡c thÃ nh pháº§n Ä‘á»‹nh nghÄ©a trong docker-compose.yml cÃ¡c dá»‹ch vá»¥, image, container, máº¡ng, Ä‘Ä©a ...
docker compose up -d

KIá»‚M TRA CONTAINER C0 HOáº T Äá»˜NG KHÃ”NG: 
cmd -> docker ps -> hiá»ƒ`n thá»‹ container Ä‘ang cháº¡y

